# 5.1å¥—åˆ©ç³»ç»Ÿå‰ç«¯éƒ¨ç½²æŒ‡å—

## ğŸ“‹ ç³»ç»Ÿæ¦‚è§ˆ

**å‰ç«¯æŠ€æœ¯æ ˆ**: React 18 + TypeScript + Ant Design + Vite  
**ç«¯å£é…ç½®**: 3003 (å¤–ç½‘å¯è®¿é—®)  
**APIç½‘å…³**: localhost:3000  
**æ¥å£æ€»æ•°**: 387ä¸ªAPIæ¥å£  
**å¾®æœåŠ¡æ•°**: 7ä¸ªå¾®æœåŠ¡  

## ğŸ—ï¸ æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                å‰ç«¯åº”ç”¨                          â”‚
â”‚            React + TypeScript                   â”‚
â”‚              Port: 3003                         â”‚
â”‚           (å¤–ç½‘å¯è®¿é—®)                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚ HTTP/WebSocket
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ç»Ÿä¸€APIç½‘å…³                         â”‚
â”‚            Rust + Axum                         â”‚
â”‚              Port: 3000                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚ æ™ºèƒ½è·¯ç”±
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚             â”‚             â”‚
â”Œâ”€â”€â”€â–¼â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”
â”‚æ—¥å¿—æœåŠ¡â”‚ â”‚æ¸…æ´—æœåŠ¡   â”‚ â”‚ç­–ç•¥æœåŠ¡   â”‚
â”‚4001   â”‚ â”‚4002      â”‚ â”‚4003      â”‚
â”‚45 API â”‚ â”‚52 API    â”‚ â”‚38 API    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚æ€§èƒ½æœåŠ¡â”‚ â”‚äº¤æ˜“æœåŠ¡   â”‚ â”‚AIæ¨¡å‹æœåŠ¡ â”‚
â”‚4004   â”‚ â”‚4005      â”‚ â”‚4006      â”‚
â”‚67 API â”‚ â”‚41 API    â”‚ â”‚48 API    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚é…ç½®æœåŠ¡   â”‚
          â”‚4007      â”‚
          â”‚96 API    â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ å¿«é€Ÿéƒ¨ç½²

### 1. æ£€æŸ¥ç¯å¢ƒ

```bash
# æ£€æŸ¥Node.jsç‰ˆæœ¬ (éœ€è¦18+)
node -v

# æ£€æŸ¥npmç‰ˆæœ¬
npm -v

# æ£€æŸ¥ç»Ÿä¸€ç½‘å…³æ˜¯å¦è¿è¡Œ
curl http://localhost:3000/health
```

### 2. å®‰è£…ä¾èµ–

```bash
cd /home/ubuntu/arbitrage-frontend-v5.1
npm install
```

### 3. å¯åŠ¨å‰ç«¯

```bash
# ä½¿ç”¨å¯åŠ¨è„šæœ¬ (æ¨è)
./start-frontend.sh

# æˆ–è€…ç›´æ¥å¯åŠ¨
npm run dev
```

### 4. è®¿é—®åœ°å€

- **æœ¬åœ°è®¿é—®**: http://localhost:3003
- **å¤–ç½‘è®¿é—®**: http://YOUR_SERVER_IP:3003

## ğŸ“ é¡¹ç›®ç»“æ„

```
arbitrage-frontend-v5.1/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/                    # APIå®¢æˆ·ç«¯
â”‚   â”‚   â””â”€â”€ apiClient.ts       # ç»Ÿä¸€APIå®¢æˆ·ç«¯å’ŒWebSocketç®¡ç†
â”‚   â”œâ”€â”€ services/              # æœåŠ¡å±‚ (387ä¸ªAPIæ¥å£)
â”‚   â”‚   â”œâ”€â”€ loggingService.ts  # æ—¥å¿—æœåŠ¡ (45ä¸ªAPI)
â”‚   â”‚   â”œâ”€â”€ cleaningService.ts # æ¸…æ´—æœåŠ¡ (52ä¸ªAPI)
â”‚   â”‚   â”œâ”€â”€ strategyService.ts # ç­–ç•¥æœåŠ¡ (38ä¸ªAPI)
â”‚   â”‚   â”œâ”€â”€ performanceService.ts # æ€§èƒ½æœåŠ¡ (67ä¸ªAPI)
â”‚   â”‚   â”œâ”€â”€ tradingService.ts  # äº¤æ˜“æœåŠ¡ (41ä¸ªAPI)
â”‚   â”‚   â”œâ”€â”€ aiModelService.ts  # AIæ¨¡å‹æœåŠ¡ (48ä¸ªAPI)
â”‚   â”‚   â”œâ”€â”€ configService.ts   # é…ç½®æœåŠ¡ (96ä¸ªAPI)
â”‚   â”‚   â”œâ”€â”€ systemControlService.ts # ç³»ç»Ÿæ§åˆ¶æœåŠ¡
â”‚   â”‚   â””â”€â”€ index.ts          # ç»Ÿä¸€æœåŠ¡å¯¼å‡º
â”‚   â”œâ”€â”€ pages/                 # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Dashboard.tsx      # ä¸»ä»ªè¡¨æ¿ (387ä¸ªAPIæ¦‚è§ˆ)
â”‚   â”‚   â”œâ”€â”€ LoggingModule.tsx  # æ—¥å¿—ç®¡ç†é¡µé¢
â”‚   â”‚   â”œâ”€â”€ CleaningModule.tsx # æ¸…æ´—ç®¡ç†é¡µé¢
â”‚   â”‚   â”œâ”€â”€ StrategyModule.tsx # ç­–ç•¥ç®¡ç†é¡µé¢
â”‚   â”‚   â”œâ”€â”€ PerformanceModule.tsx # æ€§èƒ½ç®¡ç†é¡µé¢
â”‚   â”‚   â”œâ”€â”€ TradingModule.tsx  # äº¤æ˜“ç®¡ç†é¡µé¢
â”‚   â”‚   â”œâ”€â”€ AIModelModule.tsx  # AIæ¨¡å‹ç®¡ç†é¡µé¢
â”‚   â”‚   â”œâ”€â”€ ConfigModule.tsx   # é…ç½®ç®¡ç†é¡µé¢
â”‚   â”‚   â””â”€â”€ SystemControl.tsx  # ç³»ç»Ÿæ§åˆ¶é¡µé¢
â”‚   â”œâ”€â”€ App.tsx               # ä¸»åº”ç”¨ç»„ä»¶
â”‚   â””â”€â”€ main.tsx              # å…¥å£æ–‡ä»¶
â”œâ”€â”€ .env                      # ç¯å¢ƒé…ç½®
â”œâ”€â”€ vite.config.ts            # Viteé…ç½®
â”œâ”€â”€ package.json              # ä¾èµ–é…ç½®
â””â”€â”€ start-frontend.sh         # å¯åŠ¨è„šæœ¬
```

## ğŸ”§ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡ (.env)

```bash
# APIç½‘å…³é…ç½®
VITE_API_BASE_URL=http://localhost:3000
VITE_WS_BASE_URL=ws://localhost:3000

# ç³»ç»Ÿä¿¡æ¯
VITE_SYSTEM_NAME=5.1å¥—åˆ©ç³»ç»Ÿ
VITE_SYSTEM_VERSION=v5.1.0
VITE_TOTAL_APIS=387
VITE_MICROSERVICES_COUNT=7
```

### Viteé…ç½® (vite.config.ts)

```typescript
export default defineConfig({
  server: {
    port: 3003,
    host: '0.0.0.0', // å…è®¸å¤–ç½‘è®¿é—®
    proxy: {
      '/api': {
        target: 'http://localhost:3000',
        changeOrigin: true
      },
      '/ws': {
        target: 'ws://localhost:3000',
        ws: true,
        changeOrigin: true
      }
    }
  }
})
```

## ğŸ“Š APIæ¥å£åˆ†å¸ƒ

| æœåŠ¡åç§° | ç«¯å£ | APIæ•°é‡ | åŠŸèƒ½æè¿° |
|----------|------|---------|----------|
| logging-service | 4001 | 45ä¸ª | æ—¥å¿—æ”¶é›†ã€åˆ†æã€å®æ—¶æµ |
| cleaning-service | 4002 | 52ä¸ª | æ•°æ®æ¸…æ´—ã€è´¨é‡æ§åˆ¶ |
| strategy-service | 4003 | 38ä¸ª | ç­–ç•¥ç®¡ç†ã€çƒ­é‡è½½ |
| performance-service | 4004 | 67ä¸ª | æ€§èƒ½ä¼˜åŒ–ã€èµ„æºç›‘æ§ |
| trading-service | 4005 | 41ä¸ª | è®¢å•ç®¡ç†ã€é£é™©æ§åˆ¶ |
| ai-model-service | 4006 | 48ä¸ª | AIæ¨¡å‹ç®¡ç†ã€è®­ç»ƒæ¨ç† |
| config-service | 4007 | 96ä¸ª | é…ç½®ç®¡ç†ã€ç‰ˆæœ¬æ§åˆ¶ |
| **æ€»è®¡** | - | **387ä¸ª** | **å®Œæ•´å¥—åˆ©ç³»ç»Ÿ** |

## ğŸŒ å‰ç«¯é¡µé¢åŠŸèƒ½

### 1. ä¸»ä»ªè¡¨æ¿ (`/dashboard`)
- 387ä¸ªAPIæ¥å£çŠ¶æ€æ€»è§ˆ
- 7ä¸ªå¾®æœåŠ¡å¥åº·ç›‘æ§
- å®æ—¶æ€§èƒ½æŒ‡æ ‡å±•ç¤º
- ç³»ç»ŸçŠ¶æ€å¯è§†åŒ–

### 2. æ—¥å¿—ç®¡ç† (`/logging`)
- 45ä¸ªæ—¥å¿—APIæ¥å£ç®¡ç†
- å®æ—¶æ—¥å¿—æµ (WebSocket)
- æ—¥å¿—çº§åˆ«é…ç½®
- æ—¥å¿—åˆ†æå’Œæœç´¢

### 3. æ¸…æ´—ç®¡ç† (`/cleaning`)
- 52ä¸ªæ¸…æ´—APIæ¥å£ç®¡ç†
- æ¸…æ´—è§„åˆ™é…ç½®
- äº¤æ˜“æ‰€æ•°æ®é…ç½®
- æ•°æ®è´¨é‡ç›‘æ§

### 4. ç­–ç•¥ç®¡ç† (`/strategy`)
- 38ä¸ªç­–ç•¥APIæ¥å£ç®¡ç†
- ç­–ç•¥ç”Ÿå‘½å‘¨æœŸæ§åˆ¶
- å®æ—¶ç›‘æ§å’Œè°ƒè¯•
- çƒ­é‡è½½åŠŸèƒ½

### 5. æ€§èƒ½ç®¡ç† (`/performance`)
- 67ä¸ªæ€§èƒ½APIæ¥å£ç®¡ç†
- CPU/å†…å­˜/ç½‘ç»œ/ç£ç›˜ç›‘æ§
- æ€§èƒ½ä¼˜åŒ–å·¥å…·
- åŸºå‡†æµ‹è¯•

### 6. äº¤æ˜“ç®¡ç† (`/trading`)
- 41ä¸ªäº¤æ˜“APIæ¥å£ç®¡ç†
- è®¢å•å’Œä»“ä½ç›‘æ§
- èµ„é‡‘ç®¡ç†
- é£é™©æ§åˆ¶

### 7. AIæ¨¡å‹ç®¡ç† (`/ai-model`)
- 48ä¸ªAIæ¨¡å‹APIæ¥å£ç®¡ç†
- æ¨¡å‹è®­ç»ƒå’Œéƒ¨ç½²
- æ¨ç†æœåŠ¡ç›‘æ§
- ç‰¹å¾å·¥ç¨‹å·¥å…·

### 8. é…ç½®ç®¡ç† (`/config`)
- 96ä¸ªé…ç½®APIæ¥å£ç®¡ç†
- ç‰ˆæœ¬æ§åˆ¶
- çƒ­é‡è½½ç®¡ç†
- ç¯å¢ƒé…ç½®

### 9. ç³»ç»Ÿæ§åˆ¶ (`/system`)
- ç³»ç»Ÿå¯åœæ§åˆ¶
- æœåŠ¡ç®¡ç†
- å¤‡ä»½æ¢å¤
- ç³»ç»Ÿè¯Šæ–­

## ğŸ”— APIè°ƒç”¨ç¤ºä¾‹

### åŸºç¡€APIè°ƒç”¨

```typescript
import { serviceManager } from '../services';

// è·å–æ‰€æœ‰ç­–ç•¥
const strategies = await serviceManager.strategy.listStrategies();

// å¯åŠ¨ç­–ç•¥
await serviceManager.strategy.startStrategy('triangular-v4');

// è·å–å®æ—¶æ—¥å¿—
const logs = await serviceManager.logging.getRealtimeLogStream();

// è·å–ç³»ç»ŸçŠ¶æ€
const status = await serviceManager.systemControl.getSystemStatus();
```

### WebSocketè¿æ¥

```typescript
import { loggingService } from '../services';

// è¿æ¥å®æ—¶æ—¥å¿—æµ
const ws = loggingService.connectRealtimeLogs(
  (logData) => {
    console.log('New log:', logData);
  },
  (error) => {
    console.error('WebSocket error:', error);
  }
);
```

## ğŸ›¡ï¸ ç”Ÿäº§éƒ¨ç½²

### 1. æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run build
```

### 2. ä½¿ç”¨Nginxéƒ¨ç½²

```nginx
server {
    listen 3003;
    server_name YOUR_DOMAIN;
    
    root /path/to/arbitrage-frontend-v5.1/dist;
    index index.html;
    
    location / {
        try_files $uri $uri/ /index.html;
    }
    
    location /api {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
    }
    
    location /ws {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection "upgrade";
        proxy_set_header Host $host;
    }
}
```

### 3. ä½¿ç”¨PM2éƒ¨ç½²

```bash
# å®‰è£…PM2
npm install -g pm2

# å¯åŠ¨å‰ç«¯æœåŠ¡
pm2 start npm --name "arbitrage-frontend" -- run preview

# è®¾ç½®å¼€æœºè‡ªå¯
pm2 startup
pm2 save
```

## ğŸ” æ•…éšœæ’é™¤

### 1. ç«¯å£å ç”¨é—®é¢˜

```bash
# æ£€æŸ¥ç«¯å£å ç”¨
lsof -i :3003

# æ¸…ç†ç«¯å£
pkill -f "vite.*3003"
```

### 2. APIè¿æ¥é—®é¢˜

```bash
# æ£€æŸ¥ç»Ÿä¸€ç½‘å…³çŠ¶æ€
curl http://localhost:3000/health

# æ£€æŸ¥å¾®æœåŠ¡çŠ¶æ€
curl http://localhost:4001/health  # æ—¥å¿—æœåŠ¡
curl http://localhost:4002/health  # æ¸…æ´—æœåŠ¡
# ... å…¶ä»–æœåŠ¡
```

### 3. WebSocketè¿æ¥é—®é¢˜

```bash
# æ£€æŸ¥WebSocketè¿æ¥
wscat -c ws://localhost:3000/ws/logs/realtime
```

## ğŸ“ˆ æ€§èƒ½ç›‘æ§

å‰ç«¯é›†æˆäº†å®Œæ•´çš„æ€§èƒ½ç›‘æ§ï¼š

- **APIå“åº”æ—¶é—´ç›‘æ§**: æ‰€æœ‰387ä¸ªAPIæ¥å£çš„å“åº”æ—¶é—´
- **WebSocketè¿æ¥çŠ¶æ€**: å®æ—¶è¿æ¥çŠ¶æ€ç›‘æ§
- **å‰ç«¯æ€§èƒ½æŒ‡æ ‡**: é¡µé¢åŠ è½½æ—¶é—´ã€å†…å­˜ä½¿ç”¨ç­‰
- **ç”¨æˆ·æ“ä½œè¿½è¸ª**: ç”¨æˆ·è¡Œä¸ºåˆ†æ

## ğŸ¯ æ€»ç»“

5.1å¥—åˆ©ç³»ç»Ÿå‰ç«¯å·²å®Œæˆï¼š

âœ… **387ä¸ªAPIæ¥å£å®Œæ•´å¯¹æ¥**  
âœ… **7ä¸ªå¾®æœåŠ¡ç»Ÿä¸€ç®¡ç†**  
âœ… **å®æ—¶WebSocketè¿æ¥**  
âœ… **å“åº”å¼UIè®¾è®¡**  
âœ… **ç”Ÿäº§çº§éƒ¨ç½²æ–¹æ¡ˆ**  
âœ… **å¤–ç½‘è®¿é—®æ”¯æŒ**  
âœ… **å®Œæ•´é”™è¯¯å¤„ç†**  
âœ… **æ€§èƒ½ç›‘æ§é›†æˆ**  

å‰ç«¯ç°åœ¨å¯ä»¥100%æ§åˆ¶åç«¯æ‰€æœ‰è¿è¡Œï¼Œå®ç°çœŸå®çš„ç”Ÿäº§çº§å¥—åˆ©ç³»ç»Ÿç®¡ç†ï¼ 

## ğŸ“‹ ç³»ç»Ÿæ¦‚è§ˆ

**å‰ç«¯æŠ€æœ¯æ ˆ**: React 18 + TypeScript + Ant Design + Vite  
**ç«¯å£é…ç½®**: 3003 (å¤–ç½‘å¯è®¿é—®)  
**APIç½‘å…³**: localhost:3000  
**æ¥å£æ€»æ•°**: 387ä¸ªAPIæ¥å£  
**å¾®æœåŠ¡æ•°**: 7ä¸ªå¾®æœåŠ¡  

## ğŸ—ï¸ æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                å‰ç«¯åº”ç”¨                          â”‚
â”‚            React + TypeScript                   â”‚
â”‚              Port: 3003                         â”‚
â”‚           (å¤–ç½‘å¯è®¿é—®)                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚ HTTP/WebSocket
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ç»Ÿä¸€APIç½‘å…³                         â”‚
â”‚            Rust + Axum                         â”‚
â”‚              Port: 3000                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚ æ™ºèƒ½è·¯ç”±
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚             â”‚             â”‚
â”Œâ”€â”€â”€â–¼â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”
â”‚æ—¥å¿—æœåŠ¡â”‚ â”‚æ¸…æ´—æœåŠ¡   â”‚ â”‚ç­–ç•¥æœåŠ¡   â”‚
â”‚4001   â”‚ â”‚4002      â”‚ â”‚4003      â”‚
â”‚45 API â”‚ â”‚52 API    â”‚ â”‚38 API    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚æ€§èƒ½æœåŠ¡â”‚ â”‚äº¤æ˜“æœåŠ¡   â”‚ â”‚AIæ¨¡å‹æœåŠ¡ â”‚
â”‚4004   â”‚ â”‚4005      â”‚ â”‚4006      â”‚
â”‚67 API â”‚ â”‚41 API    â”‚ â”‚48 API    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚é…ç½®æœåŠ¡   â”‚
          â”‚4007      â”‚
          â”‚96 API    â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ å¿«é€Ÿéƒ¨ç½²

### 1. æ£€æŸ¥ç¯å¢ƒ

```bash
# æ£€æŸ¥Node.jsç‰ˆæœ¬ (éœ€è¦18+)
node -v

# æ£€æŸ¥npmç‰ˆæœ¬
npm -v

# æ£€æŸ¥ç»Ÿä¸€ç½‘å…³æ˜¯å¦è¿è¡Œ
curl http://localhost:3000/health
```

### 2. å®‰è£…ä¾èµ–

```bash
cd /home/ubuntu/arbitrage-frontend-v5.1
npm install
```

### 3. å¯åŠ¨å‰ç«¯

```bash
# ä½¿ç”¨å¯åŠ¨è„šæœ¬ (æ¨è)
./start-frontend.sh

# æˆ–è€…ç›´æ¥å¯åŠ¨
npm run dev
```

### 4. è®¿é—®åœ°å€

- **æœ¬åœ°è®¿é—®**: http://localhost:3003
- **å¤–ç½‘è®¿é—®**: http://YOUR_SERVER_IP:3003

## ğŸ“ é¡¹ç›®ç»“æ„

```
arbitrage-frontend-v5.1/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/                    # APIå®¢æˆ·ç«¯
â”‚   â”‚   â””â”€â”€ apiClient.ts       # ç»Ÿä¸€APIå®¢æˆ·ç«¯å’ŒWebSocketç®¡ç†
â”‚   â”œâ”€â”€ services/              # æœåŠ¡å±‚ (387ä¸ªAPIæ¥å£)
â”‚   â”‚   â”œâ”€â”€ loggingService.ts  # æ—¥å¿—æœåŠ¡ (45ä¸ªAPI)
â”‚   â”‚   â”œâ”€â”€ cleaningService.ts # æ¸…æ´—æœåŠ¡ (52ä¸ªAPI)
â”‚   â”‚   â”œâ”€â”€ strategyService.ts # ç­–ç•¥æœåŠ¡ (38ä¸ªAPI)
â”‚   â”‚   â”œâ”€â”€ performanceService.ts # æ€§èƒ½æœåŠ¡ (67ä¸ªAPI)
â”‚   â”‚   â”œâ”€â”€ tradingService.ts  # äº¤æ˜“æœåŠ¡ (41ä¸ªAPI)
â”‚   â”‚   â”œâ”€â”€ aiModelService.ts  # AIæ¨¡å‹æœåŠ¡ (48ä¸ªAPI)
â”‚   â”‚   â”œâ”€â”€ configService.ts   # é…ç½®æœåŠ¡ (96ä¸ªAPI)
â”‚   â”‚   â”œâ”€â”€ systemControlService.ts # ç³»ç»Ÿæ§åˆ¶æœåŠ¡
â”‚   â”‚   â””â”€â”€ index.ts          # ç»Ÿä¸€æœåŠ¡å¯¼å‡º
â”‚   â”œâ”€â”€ pages/                 # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Dashboard.tsx      # ä¸»ä»ªè¡¨æ¿ (387ä¸ªAPIæ¦‚è§ˆ)
â”‚   â”‚   â”œâ”€â”€ LoggingModule.tsx  # æ—¥å¿—ç®¡ç†é¡µé¢
â”‚   â”‚   â”œâ”€â”€ CleaningModule.tsx # æ¸…æ´—ç®¡ç†é¡µé¢
â”‚   â”‚   â”œâ”€â”€ StrategyModule.tsx # ç­–ç•¥ç®¡ç†é¡µé¢
â”‚   â”‚   â”œâ”€â”€ PerformanceModule.tsx # æ€§èƒ½ç®¡ç†é¡µé¢
â”‚   â”‚   â”œâ”€â”€ TradingModule.tsx  # äº¤æ˜“ç®¡ç†é¡µé¢
â”‚   â”‚   â”œâ”€â”€ AIModelModule.tsx  # AIæ¨¡å‹ç®¡ç†é¡µé¢
â”‚   â”‚   â”œâ”€â”€ ConfigModule.tsx   # é…ç½®ç®¡ç†é¡µé¢
â”‚   â”‚   â””â”€â”€ SystemControl.tsx  # ç³»ç»Ÿæ§åˆ¶é¡µé¢
â”‚   â”œâ”€â”€ App.tsx               # ä¸»åº”ç”¨ç»„ä»¶
â”‚   â””â”€â”€ main.tsx              # å…¥å£æ–‡ä»¶
â”œâ”€â”€ .env                      # ç¯å¢ƒé…ç½®
â”œâ”€â”€ vite.config.ts            # Viteé…ç½®
â”œâ”€â”€ package.json              # ä¾èµ–é…ç½®
â””â”€â”€ start-frontend.sh         # å¯åŠ¨è„šæœ¬
```

## ğŸ”§ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡ (.env)

```bash
# APIç½‘å…³é…ç½®
VITE_API_BASE_URL=http://localhost:3000
VITE_WS_BASE_URL=ws://localhost:3000

# ç³»ç»Ÿä¿¡æ¯
VITE_SYSTEM_NAME=5.1å¥—åˆ©ç³»ç»Ÿ
VITE_SYSTEM_VERSION=v5.1.0
VITE_TOTAL_APIS=387
VITE_MICROSERVICES_COUNT=7
```

### Viteé…ç½® (vite.config.ts)

```typescript
export default defineConfig({
  server: {
    port: 3003,
    host: '0.0.0.0', // å…è®¸å¤–ç½‘è®¿é—®
    proxy: {
      '/api': {
        target: 'http://localhost:3000',
        changeOrigin: true
      },
      '/ws': {
        target: 'ws://localhost:3000',
        ws: true,
        changeOrigin: true
      }
    }
  }
})
```

## ğŸ“Š APIæ¥å£åˆ†å¸ƒ

| æœåŠ¡åç§° | ç«¯å£ | APIæ•°é‡ | åŠŸèƒ½æè¿° |
|----------|------|---------|----------|
| logging-service | 4001 | 45ä¸ª | æ—¥å¿—æ”¶é›†ã€åˆ†æã€å®æ—¶æµ |
| cleaning-service | 4002 | 52ä¸ª | æ•°æ®æ¸…æ´—ã€è´¨é‡æ§åˆ¶ |
| strategy-service | 4003 | 38ä¸ª | ç­–ç•¥ç®¡ç†ã€çƒ­é‡è½½ |
| performance-service | 4004 | 67ä¸ª | æ€§èƒ½ä¼˜åŒ–ã€èµ„æºç›‘æ§ |
| trading-service | 4005 | 41ä¸ª | è®¢å•ç®¡ç†ã€é£é™©æ§åˆ¶ |
| ai-model-service | 4006 | 48ä¸ª | AIæ¨¡å‹ç®¡ç†ã€è®­ç»ƒæ¨ç† |
| config-service | 4007 | 96ä¸ª | é…ç½®ç®¡ç†ã€ç‰ˆæœ¬æ§åˆ¶ |
| **æ€»è®¡** | - | **387ä¸ª** | **å®Œæ•´å¥—åˆ©ç³»ç»Ÿ** |

## ğŸŒ å‰ç«¯é¡µé¢åŠŸèƒ½

### 1. ä¸»ä»ªè¡¨æ¿ (`/dashboard`)
- 387ä¸ªAPIæ¥å£çŠ¶æ€æ€»è§ˆ
- 7ä¸ªå¾®æœåŠ¡å¥åº·ç›‘æ§
- å®æ—¶æ€§èƒ½æŒ‡æ ‡å±•ç¤º
- ç³»ç»ŸçŠ¶æ€å¯è§†åŒ–

### 2. æ—¥å¿—ç®¡ç† (`/logging`)
- 45ä¸ªæ—¥å¿—APIæ¥å£ç®¡ç†
- å®æ—¶æ—¥å¿—æµ (WebSocket)
- æ—¥å¿—çº§åˆ«é…ç½®
- æ—¥å¿—åˆ†æå’Œæœç´¢

### 3. æ¸…æ´—ç®¡ç† (`/cleaning`)
- 52ä¸ªæ¸…æ´—APIæ¥å£ç®¡ç†
- æ¸…æ´—è§„åˆ™é…ç½®
- äº¤æ˜“æ‰€æ•°æ®é…ç½®
- æ•°æ®è´¨é‡ç›‘æ§

### 4. ç­–ç•¥ç®¡ç† (`/strategy`)
- 38ä¸ªç­–ç•¥APIæ¥å£ç®¡ç†
- ç­–ç•¥ç”Ÿå‘½å‘¨æœŸæ§åˆ¶
- å®æ—¶ç›‘æ§å’Œè°ƒè¯•
- çƒ­é‡è½½åŠŸèƒ½

### 5. æ€§èƒ½ç®¡ç† (`/performance`)
- 67ä¸ªæ€§èƒ½APIæ¥å£ç®¡ç†
- CPU/å†…å­˜/ç½‘ç»œ/ç£ç›˜ç›‘æ§
- æ€§èƒ½ä¼˜åŒ–å·¥å…·
- åŸºå‡†æµ‹è¯•

### 6. äº¤æ˜“ç®¡ç† (`/trading`)
- 41ä¸ªäº¤æ˜“APIæ¥å£ç®¡ç†
- è®¢å•å’Œä»“ä½ç›‘æ§
- èµ„é‡‘ç®¡ç†
- é£é™©æ§åˆ¶

### 7. AIæ¨¡å‹ç®¡ç† (`/ai-model`)
- 48ä¸ªAIæ¨¡å‹APIæ¥å£ç®¡ç†
- æ¨¡å‹è®­ç»ƒå’Œéƒ¨ç½²
- æ¨ç†æœåŠ¡ç›‘æ§
- ç‰¹å¾å·¥ç¨‹å·¥å…·

### 8. é…ç½®ç®¡ç† (`/config`)
- 96ä¸ªé…ç½®APIæ¥å£ç®¡ç†
- ç‰ˆæœ¬æ§åˆ¶
- çƒ­é‡è½½ç®¡ç†
- ç¯å¢ƒé…ç½®

### 9. ç³»ç»Ÿæ§åˆ¶ (`/system`)
- ç³»ç»Ÿå¯åœæ§åˆ¶
- æœåŠ¡ç®¡ç†
- å¤‡ä»½æ¢å¤
- ç³»ç»Ÿè¯Šæ–­

## ğŸ”— APIè°ƒç”¨ç¤ºä¾‹

### åŸºç¡€APIè°ƒç”¨

```typescript
import { serviceManager } from '../services';

// è·å–æ‰€æœ‰ç­–ç•¥
const strategies = await serviceManager.strategy.listStrategies();

// å¯åŠ¨ç­–ç•¥
await serviceManager.strategy.startStrategy('triangular-v4');

// è·å–å®æ—¶æ—¥å¿—
const logs = await serviceManager.logging.getRealtimeLogStream();

// è·å–ç³»ç»ŸçŠ¶æ€
const status = await serviceManager.systemControl.getSystemStatus();
```

### WebSocketè¿æ¥

```typescript
import { loggingService } from '../services';

// è¿æ¥å®æ—¶æ—¥å¿—æµ
const ws = loggingService.connectRealtimeLogs(
  (logData) => {
    console.log('New log:', logData);
  },
  (error) => {
    console.error('WebSocket error:', error);
  }
);
```

## ğŸ›¡ï¸ ç”Ÿäº§éƒ¨ç½²

### 1. æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run build
```

### 2. ä½¿ç”¨Nginxéƒ¨ç½²

```nginx
server {
    listen 3003;
    server_name YOUR_DOMAIN;
    
    root /path/to/arbitrage-frontend-v5.1/dist;
    index index.html;
    
    location / {
        try_files $uri $uri/ /index.html;
    }
    
    location /api {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
    }
    
    location /ws {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection "upgrade";
        proxy_set_header Host $host;
    }
}
```

### 3. ä½¿ç”¨PM2éƒ¨ç½²

```bash
# å®‰è£…PM2
npm install -g pm2

# å¯åŠ¨å‰ç«¯æœåŠ¡
pm2 start npm --name "arbitrage-frontend" -- run preview

# è®¾ç½®å¼€æœºè‡ªå¯
pm2 startup
pm2 save
```

## ğŸ” æ•…éšœæ’é™¤

### 1. ç«¯å£å ç”¨é—®é¢˜

```bash
# æ£€æŸ¥ç«¯å£å ç”¨
lsof -i :3003

# æ¸…ç†ç«¯å£
pkill -f "vite.*3003"
```

### 2. APIè¿æ¥é—®é¢˜

```bash
# æ£€æŸ¥ç»Ÿä¸€ç½‘å…³çŠ¶æ€
curl http://localhost:3000/health

# æ£€æŸ¥å¾®æœåŠ¡çŠ¶æ€
curl http://localhost:4001/health  # æ—¥å¿—æœåŠ¡
curl http://localhost:4002/health  # æ¸…æ´—æœåŠ¡
# ... å…¶ä»–æœåŠ¡
```

### 3. WebSocketè¿æ¥é—®é¢˜

```bash
# æ£€æŸ¥WebSocketè¿æ¥
wscat -c ws://localhost:3000/ws/logs/realtime
```

## ğŸ“ˆ æ€§èƒ½ç›‘æ§

å‰ç«¯é›†æˆäº†å®Œæ•´çš„æ€§èƒ½ç›‘æ§ï¼š

- **APIå“åº”æ—¶é—´ç›‘æ§**: æ‰€æœ‰387ä¸ªAPIæ¥å£çš„å“åº”æ—¶é—´
- **WebSocketè¿æ¥çŠ¶æ€**: å®æ—¶è¿æ¥çŠ¶æ€ç›‘æ§
- **å‰ç«¯æ€§èƒ½æŒ‡æ ‡**: é¡µé¢åŠ è½½æ—¶é—´ã€å†…å­˜ä½¿ç”¨ç­‰
- **ç”¨æˆ·æ“ä½œè¿½è¸ª**: ç”¨æˆ·è¡Œä¸ºåˆ†æ

## ğŸ¯ æ€»ç»“

5.1å¥—åˆ©ç³»ç»Ÿå‰ç«¯å·²å®Œæˆï¼š

âœ… **387ä¸ªAPIæ¥å£å®Œæ•´å¯¹æ¥**  
âœ… **7ä¸ªå¾®æœåŠ¡ç»Ÿä¸€ç®¡ç†**  
âœ… **å®æ—¶WebSocketè¿æ¥**  
âœ… **å“åº”å¼UIè®¾è®¡**  
âœ… **ç”Ÿäº§çº§éƒ¨ç½²æ–¹æ¡ˆ**  
âœ… **å¤–ç½‘è®¿é—®æ”¯æŒ**  
âœ… **å®Œæ•´é”™è¯¯å¤„ç†**  
âœ… **æ€§èƒ½ç›‘æ§é›†æˆ**  

å‰ç«¯ç°åœ¨å¯ä»¥100%æ§åˆ¶åç«¯æ‰€æœ‰è¿è¡Œï¼Œå®ç°çœŸå®çš„ç”Ÿäº§çº§å¥—åˆ©ç³»ç»Ÿç®¡ç†ï¼ 